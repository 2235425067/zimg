{"name":"zimg","tagline":"A light and high performance image storage and processing system written by C.","body":"#zimg#\r\n\r\n\r\nzimg is a light image storage and processing system. It's written by C and it has high performance in image field. There is a benchmark test report with more infomation: [Benchmark](http://zimg.buaa.us/benchmark.html). zimg is designed for high concurrency image server. It supports many features for uploading and downloading images.  \r\n\r\nHomepage: [zimg.buaa.us](http://zimg.buaa.us/)  \r\nAuthor: [@招牌疯子](http://weibo.com/819880808)  \r\nContact me: zp@buaa.us  \r\n\r\n[![Build Status](https://travis-ci.org/buaazp/zimg.svg?branch=master)](https://travis-ci.org/buaazp/zimg)\r\n[![Build Status](https://drone.io/github.com/buaazp/zimg/status.png)](https://drone.io/github.com/buaazp/zimg/latest)  \r\n\r\n### Versions:\r\n- 06/10/2014 - zimg 2.2.0 Release. Fixed memory leak in imagemagick.\r\n- 05/18/2014 - zimg 2.1.0 Release. Added IP access control module.\r\n- 04/26/2014 - zimg 2.0.0 Release. Supported distributed storage backends.\r\n- 03/10/2014 - zimg 1.1.0 Release. Supported SSDB storage.\r\n- 08/01/2013 - zimg 1.0.0 Release.\r\n\r\n### Dependence:\r\n> We stand on the shoulders of giants.  \r\n\r\n[libevent](https://github.com/libevent/libevent): Provides a sophisticated framework for buffered network IO.  \r\n[imagemagick](http://www.imagemagick.org/script/magick-wand.php): A software suite to create, edit, compose, or convert bitmap images.  \r\n[libmemcached](https://github.com/trondn/libmemcached): LibMemcached is designed to provide the greatest number of options to use Memcached.  \r\n[lua](http://www.lua.org/): Lua is a lightweight multi-paradigm programming language designed as a scripting language with extensible semantics as a primary goal.  \r\n#### [Optional] For Storage:  \r\n[memcached](https://github.com/memcached/memcached): A distributed memory object caching system.  \r\n[beansdb](https://github.com/douban/beansdb): Beansdb is a distributed key-value storage system designed for large scale online system, aiming for high avaliablility and easy management.  \r\n[beanseye](https://github.com/douban/beanseye): Beanseye is proxy and monitor for beansdb, written in Go.  \r\n[SSDB](https://github.com/ideawu/ssdb): SSDB is a high performace key-value(key-string, key-zset, key-hashmap) NoSQL database, an alternative to Redis.  \r\n[twemproxy](https://github.com/twitter/twemproxy): Twemproxy is a fast and lightweight proxy for memcached and redis protocol.  \r\n\r\n#### Thanks to:  \r\n> zimg contains libevhtp and libhiredis. You needn't install them now.\r\n\r\n[libevhtp](https://github.com/ellzey/libevhtp): A more flexible replacement for libevent's httpd API.  \r\n[hiredis](https://github.com/redis/hiredis): Hiredis is a minimalistic C client library for the Redis database.  \r\n\r\n### Supplying:\r\nReceive and storage users' upload images.  \r\nTransfer image through HTTP protocol.  \r\nProcess resized and grayed image by request parameter.  \r\nUse memcached to improve performance.  \r\nMulti-thread support for multi-core processor server.  \r\nUse lua for conf and other functions.  \r\n**Support beansdb/SSDB mode to save images into distributed storage backends.**  \r\nIP access control for uploading and downloading images.  \r\n\r\n### In Planning:\r\nPerformance optimization.  \r\nSecurity measures.  \r\n\r\n### Documentation:\r\nThere is an architecture design document of zimg v1.0. It is written in Chinese.  \r\n[Architecture Design of zimg](http://zimg.buaa.us/arch_design.html)  \r\nAnd this document is to introduce zimg v2.0.  \r\n[Distributed Image Storage Server: zimg](http://blog.buaa.us/?p=215)  \r\nThe architecture of zimg's storage:  \r\n\r\n![architecture_of_zimg_v2](http://ww2.sinaimg.cn/large/4c422e03gw1efpmngazc0j21ik1e6dnk.jpg)\r\n\r\n### Download:\r\nThe source code is licensed under a BSD-like License.  \r\nAll versions on [Github](https://github.com/buaazp/zimg).  \r\n\r\n### Build:\r\n\r\nYou should build dependences above and make sure the beansdb, beanseye or ssdb backend is working well.   \r\n \r\n````\r\ngit clone https://github.com/buaazp/zimg\r\ncd zimg   \r\nmake  \r\ncd bin  \r\n./zimg conf/zimg.lua\r\n````\r\n\r\nMore infomation of building zimg in guide book:\r\n[Guide Book of zimg](http://zimg.buaa.us/guidebook.html)  \r\n\r\n### Config:\r\n\r\n````\r\n--zimg server config\r\n\r\n--server config\r\nis_daemon=1\r\nport=4869\r\nthread_num=4\r\nbacklog_num=1024\r\nmax_keepalives=1\r\nretry=3\r\nsystem=io.popen(\"uname -s\"):read(\"*l\")\r\n\r\n--access config\r\n--support mask rules like \"allow 10.1.121.138/24\"\r\n--note: remove rule can improve performance\r\ndownload_rule=\"allow all\"\r\nupload_rule=\"allow 127.0.0.1;deny all\"\r\n\r\n--cache config\r\ncache=1\r\nmc_ip='127.0.0.1'\r\nmc_port=11211\r\n\r\n--log config\r\nlog=1\r\nlog_name='./log/zimg.log'\r\n\r\n--htdoc config\r\nroot_path='./www/index.html'\r\n\r\n--storage config\r\n--zimg support 3 ways for storage images\r\nmode=1\r\n\r\n--mode[1]: local disk mode\r\nimg_path='./img'\r\n\r\n--mode[2]: beansdb mode\r\nbeansdb_ip='127.0.0.1'\r\nbeansdb_port='7900'\r\n\r\n--mode[3]: ssdb mode\r\nssdb_ip='127.0.0.1'\r\nssdb_port='8888'\r\n\r\n````\r\n\r\n### Feedback:\r\nIf you have any question, please submit comment here or mention me on [Weibo](http://weibo.com/819880808).  \r\nTechnical issues are also welcomed to be submitted on [GitHub](https://github.com/buaazp/zimg/issues).\r\n\r\n\r\n","google":"UA-24069372-3","note":"Don't delete this file! It's used internally to help with page regeneration."}